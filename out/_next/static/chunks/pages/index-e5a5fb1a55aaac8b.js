(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return o(8956)}])},8956:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return ti}});var a=o(5893),r=o(7294),n=o(9008),i=o.n(n),s=o(1686);let d={colors:{primary:"#6366f1",secondary:"#ec4899",success:"#10b981",warning:"#f59e0b",error:"#ef4444",background:"#ffffff",surface:"#f8fafc",text:"#1f2937",textSecondary:"#6b7280",border:"#e5e7eb",shadow:"rgba(0, 0, 0, 0.1)"},spacing:{xs:"0.25rem",sm:"0.5rem",md:"1rem",lg:"1.5rem",xl:"2rem"},borderRadius:{sm:"0.25rem",md:"0.5rem",lg:"0.75rem"},shadows:{sm:"0 1px 2px 0 rgba(0, 0, 0, 0.05)",md:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",lg:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)"}},l=e=>e.trim()?{isValid:!0}:{isValid:!1,error:"待办事项内容不能为空"},c=e=>{let t=l(e);if(!t.isValid)throw Error(t.error);return{id:crypto.randomUUID(),text:e.trim(),completed:!1,createdAt:new Date}},p=e=>{if(e.completed)throw Error("待办事项已经完成，无法重复完成");return{...e,completed:!0,completedAt:new Date}},m=e=>[...e].sort((e,t)=>t.createdAt.getTime()-e.createdAt.getTime());class g extends Error{constructor(e,t){super(e),this.cause=t,this.name="StorageError"}}class u extends Error{constructor(e,t){super(e),this.field=t,this.name="ValidationError"}}class f extends Error{constructor(e,t){super(e),this.id=t,this.name="NotFoundError"}}let h={STORAGE_KEY:"todolist-data",CURRENT_VERSION:"1.0",MAX_STORAGE_SIZE:5242880,BACKUP_KEY:"todolist-backup"},b=e=>JSON.stringify({version:h.CURRENT_VERSION,todos:e.map(e=>{var t;return{...e,createdAt:e.createdAt.toISOString(),completedAt:null===(t=e.completedAt)||void 0===t?void 0:t.toISOString()}}),metadata:{lastModified:new Date().toISOString(),totalCreated:e.length,totalCompleted:e.filter(e=>e.completed).length}}),x=e=>{try{let t=JSON.parse(e);return t.version!==h.CURRENT_VERSION&&console.warn("Storage version mismatch: expected ".concat(h.CURRENT_VERSION,", got ").concat(t.version)),t.todos.map(e=>({...e,createdAt:new Date(e.createdAt),completedAt:e.completedAt?new Date(e.completedAt):void 0}))}catch(e){throw new g("Failed to deserialize todos data",e)}},w=e=>e<=h.MAX_STORAGE_SIZE,y=e=>new Blob([e]).size;class v{async loadTodos(){try{let e=localStorage.getItem(this.storageKey);if(!e)return[];return x(e)}catch(e){console.error("Failed to load todos from localStorage:",e);try{let e=localStorage.getItem(this.backupKey);if(e)return console.log("Attempting to restore from backup..."),x(e)}catch(e){console.error("Backup restoration also failed:",e)}throw new g("无法加载待办事项数据",e)}}async saveTodos(e){try{let t=b(e),o=y(t);if(!w(o))throw new g("数据大小 (".concat(o," bytes) 超过最大限制 (").concat(h.MAX_STORAGE_SIZE," bytes)"));let a=localStorage.getItem(this.storageKey);a&&localStorage.setItem(this.backupKey,a),localStorage.setItem(this.storageKey,t)}catch(e){if(e instanceof g)throw e;throw new g("保存待办事项失败",e)}}async addTodo(e){try{let t=c(e),o=await this.loadTodos(),a=[t,...o];return await this.saveTodos(a),t}catch(e){if(e instanceof Error&&e.message.includes("待办事项内容不能为空"))throw new u(e.message,"text");throw new g("添加待办事项失败",e)}}async completeTodo(e){try{let t=await this.loadTodos(),o=t.findIndex(t=>t.id===e);if(-1===o)throw new f("待办事项未找到: ".concat(e),e);let a=t[o];if(a.completed)throw new u("待办事项已经完成，无法重复完成");let r=p(a);return t[o]=r,await this.saveTodos(t),r}catch(e){if(e instanceof f||e instanceof u)throw e;throw new g("完成待办事项失败",e)}}async deleteTodo(e){try{let t=await this.loadTodos(),o=t.findIndex(t=>t.id===e);if(-1===o)throw new f("待办事项未找到: ".concat(e),e);t.splice(o,1),await this.saveTodos(t)}catch(e){if(e instanceof f)throw e;throw new g("删除待办事项失败",e)}}async getStats(){try{let e=await this.loadTodos(),t=localStorage.getItem(this.storageKey),o=t?y(t):0;return{totalItems:e.length,completedItems:e.filter(e=>e.completed).length,pendingItems:e.filter(e=>!e.completed).length,lastModified:new Date,storageUsed:o}}catch(e){throw new g("获取统计信息失败",e)}}async clearAll(){try{localStorage.removeItem(this.storageKey),localStorage.removeItem(this.backupKey)}catch(e){throw new g("清除数据失败",e)}}async exportData(){try{let e=await this.loadTodos();return b(e)}catch(e){throw new g("导出数据失败",e)}}async importData(e){try{let t=x(e);await this.saveTodos(t)}catch(e){throw new g("导入数据失败",e)}}static isStorageAvailable(){try{let e="storage-test",t="test";localStorage.setItem(e,t);let o=localStorage.getItem(e);return localStorage.removeItem(e),o===t}catch(e){return!1}}constructor(){this.storageKey=h.STORAGE_KEY,this.backupKey=h.BACKUP_KEY}}let k=new v;class C{addListener(e){this.listeners.add(e)}removeListener(e){this.listeners.delete(e)}notifyListeners(e){this.listeners.forEach(t=>{try{t(e)}catch(e){console.error("Storage listener error:",e)}})}clear(){this.listeners.clear()}constructor(){this.listeners=new Set}}let j=new C,I={todos:[],isLoading:!1,celebrationQueue:[]},E=(e,t)=>{switch(t.type){case"LOAD_TODOS":return{...e,todos:m(t.payload),isLoading:!1};case"ADD_TODO":default:return e;case"DELETE_TODO":return{...e,todos:e.todos.filter(e=>e.id!==t.payload.id),celebrationQueue:e.celebrationQueue.filter(e=>e!==t.payload.id)};case"COMPLETE_TODO":return{...e,todos:e.todos.map(e=>e.id===t.payload.id?{...e,completed:!0,completedAt:new Date}:e)};case"SHOW_CELEBRATION":return{...e,celebrationQueue:[...e.celebrationQueue,t.payload.id]};case"HIDE_CELEBRATION":return{...e,celebrationQueue:e.celebrationQueue.filter(e=>e!==t.payload.id)};case"SET_LOADING":return{...e,isLoading:t.payload}}},S=()=>{let[e,t]=(0,r.useReducer)(E,I),o=(0,r.useRef)(null),a=(0,r.useRef)(new Map),n=(0,r.useCallback)(e=>{console.error("Todo operation error:",e),o.current=e,t({type:"SET_LOADING",payload:!1})},[]),i=(0,r.useCallback)(async()=>{try{t({type:"SET_LOADING",payload:!0});let e=await k.loadTodos();t({type:"LOAD_TODOS",payload:e}),o.current=null}catch(e){n(e)}},[n]),s=(0,r.useCallback)(async e=>{try{t({type:"SET_LOADING",payload:!0}),await k.addTodo(e);let a=await k.loadTodos();t({type:"LOAD_TODOS",payload:a}),j.notifyListeners(a),o.current=null}catch(e){throw n(e),e}},[n]),d=(0,r.useCallback)(async e=>{try{t({type:"SET_LOADING",payload:!0}),await k.completeTodo(e),t({type:"COMPLETE_TODO",payload:{id:e}}),t({type:"SHOW_CELEBRATION",payload:{id:e}});let r=setTimeout(()=>{t({type:"HIDE_CELEBRATION",payload:{id:e}}),a.current.delete(e)},2e4);a.current.set(e,r);let n=await k.loadTodos();j.notifyListeners(n),o.current=null}catch(e){throw n(e),e}},[n]),l=(0,r.useCallback)(async e=>{try{t({type:"SET_LOADING",payload:!0}),await k.deleteTodo(e),t({type:"DELETE_TODO",payload:{id:e}});let r=a.current.get(e);r&&(clearTimeout(r),a.current.delete(e));let n=await k.loadTodos();j.notifyListeners(n),o.current=null}catch(e){throw n(e),e}},[n]),c=(0,r.useCallback)(e=>{t({type:"HIDE_CELEBRATION",payload:{id:e}});let o=a.current.get(e);o&&(clearTimeout(o),a.current.delete(e))},[]);return(0,r.useEffect)(()=>{i()},[i]),(0,r.useEffect)(()=>{let e=e=>{t({type:"LOAD_TODOS",payload:e})};return j.addListener(e),()=>{j.removeListener(e)}},[]),(0,r.useEffect)(()=>()=>{a.current.forEach(e=>{clearTimeout(e)}),a.current.clear()},[]),{todos:e.todos,isLoading:e.isLoading,celebrationQueue:e.celebrationQueue,addTodo:s,completeTodo:d,deleteTodo:l,clearCelebration:c,error:o.current}},D=(0,s.F4)(["0%{box-shadow:0 0 0 0 rgba(99,102,241,0.3);}50%{box-shadow:0 0 0 8px rgba(99,102,241,0.1);}100%{box-shadow:0 0 0 0 rgba(99,102,241,0);}"]),P=(0,s.F4)(["0%{transform:scale(1);}50%{transform:scale(0.98);}100%{transform:scale(1);}"]),T=(0,s.F4)(["0%,100%{transform:translateX(0);}25%{transform:translateX(-4px);}75%{transform:translateX(4px);}"]),Z=s.ZP.form.withConfig({componentId:"sc-504ec019-0"})(["display:flex;gap:",";margin-bottom:",";padding:",";background:",";border:2px solid ",";border-radius:",";box-shadow:",";transition:all 0.3s ease-in-out;"," &:focus-within{border-color:",";box-shadow:",";background:",";}@media (max-width:640px){flex-direction:column;padding:",";}"],d.spacing.md,d.spacing.lg,d.spacing.lg,d.colors.surface,d.colors.border,d.borderRadius.lg,d.shadows.md,e=>e.$hasError&&(0,s.iv)(["border-color:",";animation:"," 0.5s ease-in-out;"],d.colors.error,T),d.colors.primary,d.shadows.lg,d.colors.background,d.spacing.md),A=s.ZP.div.withConfig({componentId:"sc-504ec019-1"})(["flex:1;position:relative;"]),O=s.ZP.input.withConfig({componentId:"sc-504ec019-2"})(["width:100%;padding:"," ",";border:2px solid ",";border-radius:",";font-size:1rem;line-height:1.5;color:",";background:",";transition:all 0.2s ease-in-out;box-sizing:border-box;&::placeholder{color:",";opacity:0.8;}&:focus{outline:none;border-color:",";animation:"," 0.6s ease-in-out;}&:disabled{background:#f3f4f6;color:",";cursor:not-allowed;opacity:0.6;}",""],d.spacing.md,d.spacing.lg,e=>e.$hasError?d.colors.error:"transparent",d.borderRadius.md,d.colors.text,d.colors.background,d.colors.textSecondary,d.colors.primary,D,d.colors.textSecondary,e=>e.$hasError&&(0,s.iv)(["background:rgba(239,68,68,0.05);"])),R=s.ZP.div.withConfig({componentId:"sc-504ec019-3"})(["position:absolute;top:100%;left:0;right:0;margin-top:",";padding:"," ",";background:",";color:white;font-size:0.875rem;border-radius:",";box-shadow:",";transform:",";opacity:",";visibility:",";transition:all 0.2s ease-in-out;z-index:10;&:before{content:'';position:absolute;top:-4px;left:",";border-left:4px solid transparent;border-right:4px solid transparent;border-bottom:4px solid ",";}"],d.spacing.xs,d.spacing.sm,d.spacing.md,d.colors.error,d.borderRadius.sm,d.shadows.sm,e=>e.$show?"translateY(0) scale(1)":"translateY(-10px) scale(0.95)",e=>e.$show?1:0,e=>e.$show?"visible":"hidden",d.spacing.md,d.colors.error),z=s.ZP.div.withConfig({componentId:"sc-504ec019-4"})(["position:absolute;bottom:",";right:",";font-size:0.75rem;color:",";font-weight:",";transition:all 0.2s ease-in-out;"],d.spacing.xs,d.spacing.md,e=>e.$isOverLimit?d.colors.error:e.$isNearLimit?d.colors.warning:d.colors.textSecondary,e=>e.$isNearLimit||e.$isOverLimit?"600":"400"),_=s.ZP.button.withConfig({componentId:"sc-504ec019-5"})(["padding:"," ",";border:none;border-radius:",";font-size:1rem;font-weight:600;cursor:pointer;transition:all 0.2s ease-in-out;display:flex;align-items:center;gap:",";white-space:nowrap;min-width:120px;justify-content:center;"," "," &:disabled{background:",";color:white;cursor:not-allowed;transform:none;box-shadow:none;opacity:0.6;}@media (max-width:640px){padding:",";min-width:100%;}"],d.spacing.md,d.spacing.xl,d.borderRadius.md,d.spacing.sm,e=>"primary"===e.$variant&&(0,s.iv)(["background:linear-gradient(135deg,"," 0%,"," 100%);color:white;box-shadow:",";&:hover{transform:translateY(-2px);box-shadow:",";background:linear-gradient(135deg,#5b5fb8 0%,#d63384 100%);}&:active{animation:"," 0.1s ease-in-out;}&:focus{outline:2px solid ",";outline-offset:2px;}"],d.colors.primary,d.colors.secondary,d.shadows.sm,d.shadows.lg,P,d.colors.primary),e=>"loading"===e.$variant&&(0,s.iv)(["background:",";color:white;cursor:not-allowed;"],d.colors.textSecondary),d.colors.textSecondary,d.spacing.md),L=s.ZP.div.withConfig({componentId:"sc-504ec019-6"})(["width:16px;height:16px;border:2px solid rgba(255,255,255,0.3);border-top:2px solid white;border-radius:50%;animation:spin 1s linear infinite;@keyframes spin{0%{transform:rotate(0deg);}100%{transform:rotate(360deg);}}"]);var $=e=>{let{onSubmit:t,isDisabled:o=!1,placeholder:n="输入新的待办事项..."}=e,[i,s]=(0,r.useState)(""),[d,c]=(0,r.useState)(null),[p,m]=(0,r.useState)(!1),g=(0,r.useRef)(null),u=i.length,f=u>200,h=(0,r.useCallback)(e=>{try{if(l(e),e.length>200)return"待办事项不能超过".concat(200,"个字符");return null}catch(e){return e instanceof Error?e.message:"输入无效"}},[]),b=(0,r.useCallback)(e=>{let t=e.target.value;s(t),d&&t.trim()&&!h(t)&&c(null)},[d,h]),x=(0,r.useCallback)(async e=>{var a,r,n;if(e.preventDefault(),o||p)return;let d=h(i);if(d){c(d),null===(a=g.current)||void 0===a||a.focus();return}try{m(!0),c(null),await t(i.trim()),s(""),null===(r=g.current)||void 0===r||r.focus()}catch(e){c(e instanceof Error?e.message:"添加失败，请重试"),null===(n=g.current)||void 0===n||n.focus()}finally{m(!1)}},[i,o,p,h,t]),w=(0,r.useCallback)(e=>{"Enter"===e.key?(e.preventDefault(),x(e)):"Escape"===e.key&&(s(""),c(null))},[x]),y=(0,r.useCallback)(()=>{i.trim()&&c(h(i))},[i,h]),v=o||p,k=!!d,C=i.trim()&&!k&&!f&&!v;return(0,a.jsxs)(Z,{onSubmit:x,$hasError:k,role:"form","aria-label":"添加新待办事项",children:[(0,a.jsxs)(A,{children:[(0,a.jsx)(O,{ref:g,type:"text",value:i,onChange:b,onKeyDown:w,onBlur:y,placeholder:n,disabled:v,$hasError:k,maxLength:250,"aria-label":"待办事项内容","aria-invalid":k,"aria-describedby":d?"todo-error":void 0}),(0,a.jsxs)(z,{$isNearLimit:u>=160,$isOverLimit:f,"aria-label":"已输入 ".concat(u," 个字符，最多 ").concat(200," 个字符"),children:[u,"/",200]}),(0,a.jsx)(R,{id:"todo-error",$show:k,role:"alert","aria-live":"polite",children:d})]}),(0,a.jsx)(_,{type:"submit",disabled:!C,$variant:p?"loading":"primary","aria-label":p?"正在添加...":"添加待办事项",children:p?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(L,{}),"添加中..."]}):(0,a.jsx)(a.Fragment,{children:"✨ 添加"})})]})};let Y=(0,s.F4)(["from{opacity:0;transform:translateX(-20px);}to{opacity:1;transform:translateX(0);}"]),F=(0,s.F4)(["from{opacity:1;transform:scale(1);}to{opacity:0;transform:scale(0.95);}"]),N=(0,s.F4)(["0%{transform:scale(1);}50%{transform:scale(1.05);}100%{transform:scale(1);}"]),M=s.ZP.div.withConfig({componentId:"sc-f0adba54-0"})(["display:flex;align-items:center;gap:",";padding:",";background:",";border:1px solid ",";border-radius:",";box-shadow:",";transition:all 0.2s ease-in-out;animation:"," 0.3s ease-out;"," "," &:hover{box-shadow:",";transform:translateY(-1px);}&.deleting{animation:"," 0.2s ease-in-out forwards;}"],d.spacing.md,d.spacing.md,d.colors.surface,d.colors.border,d.borderRadius.md,d.shadows.sm,Y,e=>e.completed&&(0,s.iv)(["background:rgba(16,185,129,0.1);border-color:",";opacity:0.8;"],d.colors.success),e=>e.isAnimating&&(0,s.iv)(["animation:"," 0.5s ease-in-out;"],N),d.shadows.md,F),K=s.ZP.div.withConfig({componentId:"sc-f0adba54-1"})(["flex:1;min-width:0;"]),B=s.ZP.span.withConfig({componentId:"sc-f0adba54-2"})(["display:block;font-size:1rem;line-height:1.5;color:",";word-wrap:break-word;overflow-wrap:break-word;",""],e=>e.completed?d.colors.textSecondary:d.colors.text,e=>e.completed&&(0,s.iv)(["text-decoration:line-through;"])),X=s.ZP.div.withConfig({componentId:"sc-f0adba54-3"})(["display:flex;align-items:center;gap:",";margin-top:",";font-size:0.75rem;color:",";"],d.spacing.sm,d.spacing.xs,d.colors.textSecondary),G=s.ZP.span.withConfig({componentId:"sc-f0adba54-4"})(["display:inline-flex;align-items:center;padding:2px 6px;border-radius:",";font-size:0.75rem;font-weight:500;background:",";color:white;"],d.borderRadius.sm,e=>e.completed?d.colors.success:d.colors.warning),U=s.ZP.div.withConfig({componentId:"sc-f0adba54-5"})(["display:flex;gap:",";"],d.spacing.sm),Q=s.ZP.button.withConfig({componentId:"sc-f0adba54-6"})(["padding:"," ",";border:none;border-radius:",";font-size:0.875rem;font-weight:500;cursor:pointer;transition:all 0.2s ease-in-out;display:flex;align-items:center;gap:4px;"," "," &:disabled{opacity:0.6;cursor:not-allowed;transform:none;}&:focus{outline:2px solid ",";outline-offset:2px;}"],d.spacing.sm,d.spacing.md,d.borderRadius.sm,e=>"complete"===e.variant&&(0,s.iv)(["background:",";color:white;&:hover{background:#059669;transform:translateY(-1px);}&:active{transform:translateY(0);}"],d.colors.success),e=>"delete"===e.variant&&(0,s.iv)(["background:",";color:white;&:hover{background:#dc2626;transform:translateY(-1px);}&:active{transform:translateY(0);}"],d.colors.error),d.colors.primary),V=e=>{let t=new Date().getTime()-e.getTime(),o=Math.floor(t/6e4),a=Math.floor(t/36e5),r=Math.floor(t/864e5);return o<1?"刚刚":o<60?"".concat(o,"分钟前"):a<24?"".concat(a,"小时前"):r<7?"".concat(r,"天前"):e.toLocaleDateString("zh-CN")};var H=e=>{let{todo:t,onComplete:o,onDelete:n,isAnimating:i=!1}=e,[s,d]=(0,r.useState)(!1),l=(0,r.useRef)(null),c=()=>{d(!0),setTimeout(()=>{n(t.id)},200)},p=()=>{o(t.id)};return(0,a.jsxs)(M,{ref:l,completed:t.completed,isAnimating:i,className:s?"deleting":"",tabIndex:0,onKeyDown:e=>{"Enter"===e.key?(e.preventDefault(),t.completed||p()):("Delete"===e.key||"Backspace"===e.key)&&(e.preventDefault(),c())},role:"listitem","aria-label":"待办事项: ".concat(t.text).concat(t.completed?" (已完成)":" (未完成)"),children:[(0,a.jsxs)(K,{children:[(0,a.jsx)(B,{completed:t.completed,children:t.text}),(0,a.jsxs)(X,{children:[(0,a.jsx)(G,{completed:t.completed,children:t.completed?"已完成":"待完成"}),(0,a.jsxs)("span",{children:["创建于 ",V(t.createdAt)]}),t.completedAt&&(0,a.jsxs)("span",{children:["完成于 ",V(t.completedAt)]})]})]}),(0,a.jsxs)(U,{children:[!t.completed&&(0,a.jsx)(Q,{variant:"complete",onClick:p,"aria-label":"完成待办事项: ".concat(t.text),children:"✓ 完成"}),(0,a.jsx)(Q,{variant:"delete",onClick:c,"aria-label":"删除待办事项: ".concat(t.text),children:"\uD83D\uDDD1 删除"})]})]})};let q=(0,s.F4)(["from{opacity:0;transform:translateY(20px);}to{opacity:1;transform:translateY(0);}"]),J=(0,s.F4)(["0%,100%{transform:translateY(0px);}50%{transform:translateY(-10px);}"]),W=(0,s.F4)(["0%,20%,53%,80%,100%{transform:translate3d(0,0,0);}40%,43%{transform:translate3d(0,-15px,0);}70%{transform:translate3d(0,-8px,0);}90%{transform:translate3d(0,-3px,0);}"]),ee=(0,s.F4)(["0%{transform:scale(1);}50%{transform:scale(1.05);}100%{transform:scale(1);}"]),et=(0,s.F4)(["0%{background-position:-200px 0;}100%{background-position:calc(200px + 100%) 0;}"]),eo=s.ZP.div.withConfig({componentId:"sc-1ef72e46-0"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;padding:"," ",";text-align:center;min-height:300px;background:",";border:2px dashed ",";border-radius:",";animation:"," 0.6s ease-out;position:relative;overflow:hidden;&::before{content:'';position:absolute;top:0;left:-200px;width:200px;height:100%;background:linear-gradient( 90deg,transparent,rgba(255,255,255,0.2),transparent );animation:"," 2s infinite;}"],d.spacing.xl,d.spacing.lg,d.colors.surface,d.colors.border,d.borderRadius.lg,q,et),ea=s.ZP.div.withConfig({componentId:"sc-1ef72e46-1"})(["font-size:4rem;margin-bottom:",";animation:"," 3s ease-in-out infinite;user-select:none;cursor:default;position:relative;"," "," "," &::after{content:'✨';position:absolute;top:-10px;right:-10px;font-size:1.5rem;opacity:0;animation:twinkle 2s ease-in-out infinite;animation-delay:0.5s;}@keyframes twinkle{0%,100%{opacity:0;transform:scale(0.8) rotate(0deg);}50%{opacity:1;transform:scale(1.2) rotate(180deg);}}"],d.spacing.lg,J,e=>"default"===e.$variant&&(0,s.iv)(["&:hover{animation:"," 1s ease-in-out;}"],W),e=>"completed"===e.$variant&&(0,s.iv)(["animation:"," 2s ease-in-out infinite;"],ee),e=>"celebration"===e.$variant&&(0,s.iv)(["animation:"," 1s ease-in-out infinite;"],W)),er=s.ZP.h3.withConfig({componentId:"sc-1ef72e46-2"})(["margin:0 0 "," 0;font-size:1.5rem;font-weight:600;color:",";@media (max-width:640px){font-size:1.25rem;}"],d.spacing.md,d.colors.text),en=s.ZP.p.withConfig({componentId:"sc-1ef72e46-3"})(["margin:0 0 "," 0;font-size:1rem;color:",";line-height:1.6;max-width:320px;@media (max-width:640px){font-size:0.9rem;max-width:280px;}"],d.spacing.xl,d.colors.textSecondary),ei=s.ZP.button.withConfig({componentId:"sc-1ef72e46-4"})(["padding:"," ",";border:none;border-radius:",";font-size:1rem;font-weight:600;cursor:pointer;transition:all 0.3s ease-in-out;display:flex;align-items:center;gap:",";background:linear-gradient(135deg,"," 0%,"," 100%);color:white;box-shadow:",";position:relative;overflow:hidden;&::before{content:'';position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,0.2),transparent);transition:left 0.5s ease-in-out;}&:hover{transform:translateY(-2px);box-shadow:",";background:linear-gradient(135deg,#5b5fb8 0%,#d63384 100%);&::before{left:100%;}}&:active{transform:translateY(0);box-shadow:",";}&:focus{outline:2px solid ",";outline-offset:2px;}"," @media (max-width:640px){padding:"," ",";font-size:0.9rem;}"],d.spacing.md,d.spacing.xl,d.borderRadius.md,d.spacing.sm,d.colors.primary,d.colors.secondary,d.shadows.md,d.shadows.lg,d.shadows.sm,d.colors.primary,e=>e.$isHovered&&(0,s.iv)(["animation:"," 0.6s ease-in-out;"],ee),d.spacing.md,d.spacing.lg),es=s.ZP.div.withConfig({componentId:"sc-1ef72e46-5"})(["margin-top:",";padding:",";background:rgba(99,102,241,0.05);border:1px solid rgba(99,102,241,0.2);border-radius:",";max-width:400px;"],d.spacing.xl,d.spacing.lg,d.borderRadius.md),ed=s.ZP.h4.withConfig({componentId:"sc-1ef72e46-6"})(["margin:0 0 "," 0;font-size:1rem;font-weight:600;color:",";display:flex;align-items:center;gap:",";"],d.spacing.md,d.colors.primary,d.spacing.sm),el=s.ZP.ul.withConfig({componentId:"sc-1ef72e46-7"})(["margin:0;padding:0;list-style:none;"]),ec=s.ZP.li.withConfig({componentId:"sc-1ef72e46-8"})(["margin-bottom:",";font-size:0.875rem;color:",";display:flex;align-items:flex-start;gap:",";line-height:1.5;&::before{content:'\uD83D\uDCA1';font-size:0.875rem;margin-top:1px;flex-shrink:0;}&:last-child{margin-bottom:0;}"],d.spacing.sm,d.colors.textSecondary,d.spacing.sm),ep=s.ZP.div.withConfig({componentId:"sc-1ef72e46-9"})(["margin-top:",";padding:",";background:",";border-radius:",";font-size:0.75rem;color:",";border:1px solid ",";kbd{padding:2px 6px;background:",";border:1px solid ",";border-radius:3px;font-family:monospace;font-size:0.7rem;margin:0 2px;}"],d.spacing.lg,d.spacing.md,d.colors.background,d.borderRadius.sm,d.colors.textSecondary,d.colors.border,d.colors.surface,d.colors.border),em=e=>e?e.includes("没有待完成")?{icon:"\uD83C\uDF89",title:"全部完成！",variant:"celebration",tips:["太棒了！你已经完成了所有任务","可以添加新的待办事项继续努力","保持这个节奏，你很优秀！"]}:e.includes("没有完成")?{icon:"\uD83D\uDCAA",title:"开始完成任务吧",variant:"default",tips:['点击待办事项的"完成"按钮',"或者使用键盘快捷键 Enter","完成任务会有精彩的庆祝效果"]}:{icon:"\uD83D\uDCDD",title:"还没有内容",variant:"default",tips:["添加第一个待办事项开始使用","支持键盘快捷键操作","数据会自动保存到本地"]}:{icon:"\uD83D\uDCDD",title:"开始添加待办事项",variant:"default",tips:["点击上方的添加按钮或按 Enter 键","写下你想要完成的任务","完成后会有精彩的庆祝动画"]};var eg=e=>{let{onAddFirst:t,message:o}=e,[n,i]=(0,r.useState)(!1),s=em(o),d=(0,r.useCallback)(()=>{t()},[t]),l=(0,r.useCallback)(e=>{("Enter"===e.key||" "===e.key)&&(e.preventDefault(),d())},[d]);return(0,a.jsxs)(eo,{children:[(0,a.jsx)(ea,{$variant:s.variant,role:"img","aria-label":"".concat(s.icon," 图标"),children:s.icon}),(0,a.jsx)(er,{children:s.title}),(0,a.jsx)(en,{children:o||"还没有待办事项，添加第一个吧！"}),(0,a.jsxs)(ei,{onClick:d,onKeyDown:l,onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),$isHovered:n,"aria-label":"添加第一个待办事项",children:[(0,a.jsx)("span",{children:"✨"}),"添加第一个"]}),(0,a.jsxs)(es,{children:[(0,a.jsx)(ed,{children:"\uD83D\uDCA1 小贴士"}),(0,a.jsx)(el,{children:s.tips.map((e,t)=>(0,a.jsx)(ec,{children:e},t))}),(0,a.jsxs)(ep,{children:["键盘快捷键：",(0,a.jsx)("kbd",{children:"Enter"})," 添加/完成 \xb7 ",(0,a.jsx)("kbd",{children:"Delete"})," 删除 \xb7 ",(0,a.jsx)("kbd",{children:"Esc"})," 取消"]})]})]})};let eu=(0,s.F4)(["from{opacity:0;transform:translateY(20px);}to{opacity:1;transform:translateY(0);}"]),ef=(0,s.F4)(["0%,100%{opacity:1;}50%{opacity:0.5;}"]),eh=e=>(0,s.iv)(["animation-delay:","s;"],.05*e),eb=s.ZP.div.withConfig({componentId:"sc-dfbcad2d-0"})(["display:flex;flex-direction:column;gap:",";min-height:200px;animation:"," 0.4s ease-out;"],d.spacing.md,eu),ex=s.ZP.div.withConfig({componentId:"sc-dfbcad2d-1"})(["display:flex;justify-content:space-between;align-items:center;margin-bottom:",";padding:0 ",";"],d.spacing.lg,d.spacing.sm),ew=s.ZP.div.withConfig({componentId:"sc-dfbcad2d-2"})(["display:flex;align-items:center;gap:",";font-size:0.875rem;color:",";"],d.spacing.md,d.colors.textSecondary),ey=s.ZP.span.withConfig({componentId:"sc-dfbcad2d-3"})(["display:inline-flex;align-items:center;padding:"," ",";border-radius:",";font-weight:600;font-size:0.75rem;"," "," ",""],d.spacing.xs,d.spacing.sm,d.borderRadius.sm,e=>"total"===e.variant&&(0,s.iv)(["background:",";color:white;"],d.colors.primary),e=>"completed"===e.variant&&(0,s.iv)(["background:",";color:white;"],d.colors.success),e=>"pending"===e.variant&&(0,s.iv)(["background:",";color:white;"],d.colors.warning)),ev=s.ZP.div.withConfig({componentId:"sc-dfbcad2d-4"})(["display:flex;gap:",";background:",";border-radius:",";padding:",";box-shadow:",";"],d.spacing.xs,d.colors.surface,d.borderRadius.md,d.spacing.xs,d.shadows.sm),ek=s.ZP.button.withConfig({componentId:"sc-dfbcad2d-5"})(["padding:"," ",";border:none;border-radius:",";font-size:0.875rem;font-weight:500;cursor:pointer;transition:all 0.2s ease-in-out;white-space:nowrap;"," &:focus{outline:2px solid ",";outline-offset:2px;}@media (max-width:640px){padding:"," ",";font-size:0.75rem;}"],d.spacing.sm,d.spacing.md,d.borderRadius.sm,e=>e.active?(0,s.iv)(["background:",";color:white;box-shadow:",";"],d.colors.primary,d.shadows.sm):(0,s.iv)(["background:transparent;color:",";&:hover{background:rgba(99,102,241,0.1);color:",";}"],d.colors.textSecondary,d.colors.primary),d.colors.primary,d.spacing.xs,d.spacing.sm),eC=s.ZP.div.withConfig({componentId:"sc-dfbcad2d-6"})(["display:flex;flex-direction:column;gap:",";min-height:",";position:relative;"],d.spacing.md,e=>e.$isEmpty?"300px":"auto"),ej=s.ZP.div.withConfig({componentId:"sc-dfbcad2d-7"})(["animation:"," 0.3s ease-out forwards;"," opacity:0;",""],eu,e=>eh(e.$index),e=>e.$isAnimating&&(0,s.iv)(["z-index:10;"])),eI=s.ZP.div.withConfig({componentId:"sc-dfbcad2d-8"})(["display:flex;flex-direction:column;gap:",";padding:",";"],d.spacing.md,d.spacing.lg),eE=s.ZP.div.withConfig({componentId:"sc-dfbcad2d-9"})(["height:80px;background:linear-gradient(90deg,"," 25%,rgba(255,255,255,0.8) 50%,"," 75% );background-size:200% 100%;border-radius:",";animation:"," 1.5s ease-in-out infinite;"],d.colors.surface,d.colors.surface,d.borderRadius.md,ef),eS=s.ZP.div.withConfig({componentId:"sc-dfbcad2d-10"})(["margin-top:",";padding:0 ",";"],d.spacing.lg,d.spacing.sm),eD=s.ZP.div.withConfig({componentId:"sc-dfbcad2d-11"})(["width:100%;height:8px;background:",";border-radius:",";overflow:hidden;box-shadow:inset 0 1px 2px rgba(0,0,0,0.1);"],d.colors.surface,d.borderRadius.sm),eP=s.ZP.div.withConfig({componentId:"sc-dfbcad2d-12"})(["height:100%;width:","%;background:linear-gradient(90deg,"," 0%,"," 100%);transition:width 0.5s ease-in-out;border-radius:",";position:relative;&::after{content:'';position:absolute;top:0;left:0;right:0;bottom:0;background:linear-gradient(90deg,transparent 0%,rgba(255,255,255,0.3) 50%,transparent 100%);animation:shimmer 2s ease-in-out infinite;}@keyframes shimmer{0%{transform:translateX(-100%);}100%{transform:translateX(100%);}}"],e=>e.$percentage,d.colors.success,d.colors.primary,d.borderRadius.sm),eT=s.ZP.div.withConfig({componentId:"sc-dfbcad2d-13"})(["display:flex;justify-content:space-between;align-items:center;margin-top:",";font-size:0.75rem;color:",";"],d.spacing.sm,d.colors.textSecondary);var eZ=e=>{let{todos:t,onAddTodo:o,onCompleteTodo:n,onDeleteTodo:i,isLoading:s=!1}=e,[d,l]=r.useState("all"),[c,p]=r.useState(new Set),m=(0,r.useRef)(null),g=(0,r.useMemo)(()=>{switch(d){case"pending":return t.filter(e=>!e.completed);case"completed":return t.filter(e=>e.completed);default:return t}},[t,d]),u=(0,r.useMemo)(()=>{let e=t.length,o=t.filter(e=>e.completed).length;return{total:e,completed:o,pending:e-o,completionPercentage:e>0?Math.round(o/e*100):0}},[t]),f=(0,r.useCallback)(e=>{p(t=>new Set(t).add(e)),setTimeout(()=>{n(e),p(t=>{let o=new Set(t);return o.delete(e),o})},100)},[n]),h=(0,r.useCallback)(e=>{i(e)},[i]),b=(0,r.useCallback)(e=>{l(e)},[]),x=(0,r.useCallback)(()=>{let e=document.querySelector('[aria-label*="添加"]');e&&e.focus()},[]),w=(0,r.useCallback)(e=>{if("ArrowDown"===e.key||"ArrowUp"===e.key){var t,o;e.preventDefault();let a=null===(t=m.current)||void 0===t?void 0:t.querySelectorAll('[role="listitem"]');if(!a||0===a.length)return;let r=Array.from(a).indexOf(e.target),n="ArrowDown"===e.key?Math.min(r+1,a.length-1):Math.max(r-1,0);null===(o=a[n])||void 0===o||o.focus()}},[]);if((0,r.useEffect)(()=>{if(t.length>0&&"all"===d){let e=t[0],o=document.querySelector('[data-todo-id="'.concat(e.id,'"]'));o&&o.scrollIntoView({behavior:"smooth",block:"nearest"})}},[t.length,d]),s)return(0,a.jsx)(eb,{children:(0,a.jsx)(eI,{children:Array.from({length:3},(e,t)=>(0,a.jsx)(eE,{},t))})});let y=0===g.length;return(0,a.jsxs)(eb,{children:[t.length>0&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(ex,{children:[(0,a.jsxs)(ew,{children:[(0,a.jsxs)(ey,{variant:"total",children:["总计 ",u.total]}),(0,a.jsxs)(ey,{variant:"completed",children:["已完成 ",u.completed]}),(0,a.jsxs)(ey,{variant:"pending",children:["待完成 ",u.pending]})]}),(0,a.jsxs)(ev,{role:"tablist","aria-label":"过滤待办事项",children:[(0,a.jsx)(ek,{role:"tab",active:"all"===d,onClick:()=>b("all"),"aria-selected":"all"===d,"aria-controls":"todo-list",children:"全部"}),(0,a.jsx)(ek,{role:"tab",active:"pending"===d,onClick:()=>b("pending"),"aria-selected":"pending"===d,"aria-controls":"todo-list",children:"待完成"}),(0,a.jsx)(ek,{role:"tab",active:"completed"===d,onClick:()=>b("completed"),"aria-selected":"completed"===d,"aria-controls":"todo-list",children:"已完成"})]})]}),u.total>0&&(0,a.jsxs)(eS,{children:[(0,a.jsx)(eD,{children:(0,a.jsx)(eP,{$percentage:u.completionPercentage})}),(0,a.jsxs)(eT,{children:[(0,a.jsx)("span",{children:"完成进度"}),(0,a.jsxs)("span",{children:[u.completionPercentage,"% (",u.completed,"/",u.total,")"]})]})]})]}),(0,a.jsx)(eC,{ref:m,$isEmpty:y,onKeyDown:w,role:"list",id:"todo-list","aria-label":"待办事项列表，当前显示".concat("all"===d?"全部":"pending"===d?"待完成":"已完成","项目"),children:y?(0,a.jsx)(eg,{onAddFirst:x,message:"all"===d?"还没有待办事项，添加第一个吧！":"pending"===d?"太棒了！没有待完成的事项":"还没有完成任何事项"}):g.map((e,t)=>(0,a.jsx)(ej,{$index:t,$isAnimating:c.has(e.id),"data-todo-id":e.id,children:(0,a.jsx)(H,{todo:e,onComplete:f,onDelete:h,isAnimating:c.has(e.id)})},e.id))})]})};let eA=(0,s.F4)(["0%{opacity:0;transform:scale(0.5) translateY(50px);}20%{opacity:1;transform:scale(1.1) translateY(-10px);}40%{transform:scale(0.95) translateY(0);}60%{transform:scale(1.02) translateY(-5px);}100%{opacity:1;transform:scale(1) translateY(0);}"]),eO=(0,s.F4)(["0%{opacity:1;transform:scale(1) translateY(0);}100%{opacity:0;transform:scale(0.8) translateY(-30px);}"]),eR=(0,s.F4)(["0%{transform:translateY(-100vh) rotate(0deg);opacity:1;}100%{transform:translateY(100vh) rotate(360deg);opacity:0;}"]),ez=(0,s.F4)(["0%,100%{transform:scale(0) rotate(0deg);opacity:0;}50%{transform:scale(1) rotate(180deg);opacity:1;}"]),e_=(0,s.F4)(["0%{transform:scale(1);box-shadow:0 0 0 0 rgba(16,185,129,0.7);}70%{transform:scale(1.05);box-shadow:0 0 0 20px rgba(16,185,129,0);}100%{transform:scale(1);box-shadow:0 0 0 0 rgba(16,185,129,0);}"]),eL=(0,s.F4)(["0%,100%{text-shadow:0 0 5px rgba(16,185,129,0.5);}50%{text-shadow:0 0 20px rgba(16,185,129,0.8),0 0 30px rgba(16,185,129,0.6);}"]),e$=s.ZP.div.withConfig({componentId:"sc-d4bf642-0"})(["position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,0.8);backdrop-filter:blur(8px);display:flex;align-items:center;justify-content:center;z-index:1000;pointer-events:",";opacity:",";transition:opacity 0.3s ease-in-out;",""],e=>e.$show?"auto":"none",e=>e.$show?1:0,e=>e.$exiting&&(0,s.iv)(["animation:"," 0.5s ease-in-out forwards;"],eO)),eY=s.ZP.div.withConfig({componentId:"sc-d4bf642-1"})(["display:flex;flex-direction:column;align-items:center;gap:",";padding:",";background:",";border-radius:",";box-shadow:",";max-width:400px;width:90%;text-align:center;position:relative;overflow:hidden;"," &::before{content:'';position:absolute;top:-50%;left:-50%;width:200%;height:200%;background:radial-gradient(circle,rgba(16,185,129,0.1) 0%,transparent 70%);animation:"," 2s ease-in-out infinite;pointer-events:none;}"],d.spacing.xl,d.spacing.xl,d.colors.background,d.borderRadius.lg,d.shadows.lg,e=>e.$show&&(0,s.iv)(["animation:"," 0.8s cubic-bezier(0.175,0.885,0.32,1.275);"],eA),e_),eF=s.ZP.div.withConfig({componentId:"sc-d4bf642-2"})(["font-size:4rem;animation:"," 1.5s ease-in-out infinite;position:relative;&::after{content:'✨';position:absolute;top:-10px;right:-10px;font-size:1.5rem;animation:"," 1s ease-in-out infinite;animation-delay:0.5s;}&::before{content:'\uD83C\uDF89';position:absolute;top:-10px;left:-10px;font-size:1.5rem;animation:"," 1s ease-in-out infinite;animation-delay:1s;}"],e_,ez,ez),eN=s.ZP.h2.withConfig({componentId:"sc-d4bf642-3"})(["margin:0;font-size:2rem;font-weight:700;color:",";animation:"," 2s ease-in-out infinite;text-align:center;@media (max-width:640px){font-size:1.5rem;}"],d.colors.success,eL),eM=s.ZP.p.withConfig({componentId:"sc-d4bf642-4"})(["margin:0;font-size:1.125rem;color:",";line-height:1.6;max-width:300px;@media (max-width:640px){font-size:1rem;}"],d.colors.text),eK=s.ZP.div.withConfig({componentId:"sc-d4bf642-5"})(["padding:",";background:rgba(16,185,129,0.1);border:2px solid ",";border-radius:",";color:",";font-weight:500;word-break:break-word;max-width:100%;"],d.spacing.md,d.colors.success,d.borderRadius.md,d.colors.text),eB=s.ZP.div.withConfig({componentId:"sc-d4bf642-6"})(["display:flex;gap:",";margin-top:",";@media (max-width:640px){flex-direction:column;width:100%;}"],d.spacing.md,d.spacing.md),eX=s.ZP.button.withConfig({componentId:"sc-d4bf642-7"})(["padding:"," ",";border:none;border-radius:",";font-size:1rem;font-weight:600;cursor:pointer;transition:all 0.2s ease-in-out;min-width:120px;"," "," &:focus{outline:2px solid ",";outline-offset:2px;}@media (max-width:640px){min-width:auto;width:100%;}"],d.spacing.md,d.spacing.lg,d.borderRadius.md,e=>"primary"===e.variant&&(0,s.iv)(["background:",";color:white;&:hover{background:#059669;transform:translateY(-1px);box-shadow:",";}&:active{transform:translateY(0);}"],d.colors.success,d.shadows.md),e=>"secondary"===e.variant&&(0,s.iv)(["background:transparent;color:",";border:2px solid ",";&:hover{border-color:",";color:",";background:rgba(99,102,241,0.05);}"],d.colors.textSecondary,d.colors.border,d.colors.primary,d.colors.primary),d.colors.primary),eG=s.ZP.div.withConfig({componentId:"sc-d4bf642-8"})(["width:100%;margin-top:",";"],d.spacing.lg),eU=s.ZP.div.withConfig({componentId:"sc-d4bf642-9"})(["width:100%;height:4px;background:",";border-radius:",";overflow:hidden;"],d.colors.surface,d.borderRadius.sm),eQ=s.ZP.div.withConfig({componentId:"sc-d4bf642-10"})(["height:100%;width:","%;background:linear-gradient(90deg,"," 0%,"," 100%);transition:width 0.1s linear;border-radius:",";"],e=>e.percentage,d.colors.success,d.colors.warning,d.borderRadius.sm),eV=s.ZP.div.withConfig({componentId:"sc-d4bf642-11"})(["text-align:center;margin-top:",";font-size:0.875rem;color:",";"],d.spacing.sm,d.colors.textSecondary),eH=s.ZP.div.withConfig({componentId:"sc-d4bf642-12"})(["position:absolute;top:0;left:0;right:0;bottom:0;pointer-events:none;overflow:hidden;"]),eq=s.ZP.div.withConfig({componentId:"sc-d4bf642-13"})(["position:absolute;top:-10px;left:","%;width:8px;height:8px;background:",";animation:"," 3s linear infinite;animation-delay:","s;border-radius:2px;"],e=>e.left,e=>e.color,eR,e=>e.delay),eJ=["#10b981","#6366f1","#ec4899","#f59e0b","#ef4444","#8b5cf6","#06b6d4","#84cc16"];var eW=e=>{let{show:t,todoText:o,onAnimationEnd:n,duration:i=2e4}=e,[s,d]=(0,r.useState)(!1),[l,c]=(0,r.useState)(i),[p,m]=(0,r.useState)([]),g=(0,r.useRef)(null),u=(0,r.useRef)(null),f=(0,r.useCallback)(()=>{m(Array.from({length:50},(e,t)=>({id:t,delay:3*Math.random(),left:100*Math.random(),color:eJ[Math.floor(Math.random()*eJ.length)]})))},[]),h=(0,r.useCallback)(()=>{d(!0),setTimeout(()=>{n(),d(!1),c(i)},500)},[n,i]);(0,r.useEffect)(()=>{if(t)return f(),c(i),g.current=setTimeout(()=>{h()},i),u.current=setInterval(()=>{c(e=>e<=100?0:e-100)},100),()=>{g.current&&clearTimeout(g.current),u.current&&clearInterval(u.current)}},[t,i,f,h]);let b=(0,r.useCallback)(e=>{("Escape"===e.key||"Enter"===e.key)&&h()},[h]),x=Math.max(0,l/i*100),w=Math.ceil(l/1e3);return t?(0,a.jsx)(e$,{$show:t,$exiting:s,onClick:h,onKeyDown:b,role:"dialog","aria-modal":"true","aria-labelledby":"celebration-title","aria-describedby":"celebration-message",tabIndex:-1,children:(0,a.jsxs)(eY,{$show:t,onClick:e=>e.stopPropagation(),children:[(0,a.jsx)(eH,{children:p.map(e=>(0,a.jsx)(eq,{delay:e.delay,left:e.left,color:e.color},e.id))}),(0,a.jsx)(eF,{children:"\uD83C\uDF89"}),(0,a.jsxs)("div",{children:[(0,a.jsx)(eN,{id:"celebration-title",children:"太棒了！"}),(0,a.jsx)(eM,{id:"celebration-message",children:"你又完成了一个待办事项！"})]}),(0,a.jsxs)(eK,{children:['"',o,'"']}),(0,a.jsxs)(eB,{children:[(0,a.jsx)(eX,{variant:"primary",onClick:h,"aria-label":"继续工作",children:"继续加油！"}),(0,a.jsx)(eX,{variant:"secondary",onClick:h,"aria-label":"关闭庆祝",children:"关闭"})]}),(0,a.jsxs)(eG,{children:[(0,a.jsx)(eU,{children:(0,a.jsx)(eQ,{percentage:x})}),(0,a.jsx)(eV,{children:w>0?"".concat(w,"秒后自动关闭"):"正在关闭..."})]})]})}):null};let e0=(0,s.vJ)(["*{box-sizing:border-box;}body{margin:0;padding:0;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI','Roboto','Oxygen','Ubuntu','Cantarell','Fira Sans','Droid Sans','Helvetica Neue',sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);min-height:100vh;color:",";}#__next{min-height:100vh;}:focus-visible{outline:2px solid ",";outline-offset:2px;}::-webkit-scrollbar{width:8px;}::-webkit-scrollbar-track{background:",";}::-webkit-scrollbar-thumb{background:",";border-radius:4px;}::-webkit-scrollbar-thumb:hover{background:",";}::selection{background:rgba(99,102,241,0.2);color:",";}@media (prefers-reduced-motion:reduce){*,*::before,*::after{animation-duration:0.01ms !important;animation-iteration-count:1 !important;transition-duration:0.01ms !important;}}"],d.colors.text,d.colors.primary,d.colors.surface,d.colors.border,d.colors.textSecondary,d.colors.text),e1=(0,s.F4)(["from{opacity:0;transform:translateY(30px) scale(0.98);}to{opacity:1;transform:translateY(0) scale(1);}"]),e2=(0,s.F4)(["0%,100%{text-shadow:0 0 10px rgba(99,102,241,0.3);}50%{text-shadow:0 0 20px rgba(99,102,241,0.6),0 0 30px rgba(236,72,153,0.4);}"]),e5=s.ZP.div.withConfig({componentId:"sc-ce26a9d6-0"})(["min-height:100vh;padding:"," ",";animation:"," 0.6s ease-out;@media (max-width:768px){padding:"," ",";}"],d.spacing.xl,d.spacing.lg,e1,d.spacing.lg,d.spacing.md),e6=s.ZP.main.withConfig({componentId:"sc-ce26a9d6-1"})(["max-width:800px;margin:0 auto;background:",";border-radius:",";box-shadow:0 20px 60px rgba(0,0,0,0.1);overflow:hidden;backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,0.2);"],d.colors.background,d.borderRadius.lg),e4=s.ZP.header.withConfig({componentId:"sc-ce26a9d6-2"})(["padding:"," "," ",";background:linear-gradient(135deg,"," 0%,"," 100%);color:white;text-align:center;position:relative;overflow:hidden;&::before{content:'';position:absolute;top:0;left:0;right:0;bottom:0;background:url(\"data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.1'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E\") repeat;animation:float 20s ease-in-out infinite;}@keyframes float{0%,100%{transform:translateY(0px);}50%{transform:translateY(-10px);}}@media (max-width:768px){padding:"," "," ",";}"],d.spacing.xl,d.spacing.xl,d.spacing.lg,d.colors.primary,d.colors.secondary,d.spacing.lg,d.spacing.lg,d.spacing.md),e3=s.ZP.h1.withConfig({componentId:"sc-ce26a9d6-3"})(["margin:0 0 "," 0;font-size:2.5rem;font-weight:700;animation:"," 3s ease-in-out infinite;position:relative;z-index:1;@media (max-width:768px){font-size:2rem;}@media (max-width:480px){font-size:1.75rem;}"],d.spacing.sm,e2),e9=s.ZP.p.withConfig({componentId:"sc-ce26a9d6-4"})(["margin:0;font-size:1.125rem;opacity:0.9;font-weight:400;position:relative;z-index:1;@media (max-width:768px){font-size:1rem;}"]),e8=s.ZP.div.withConfig({componentId:"sc-ce26a9d6-5"})(["padding:",";@media (max-width:768px){padding:",";}@media (max-width:480px){padding:",";}"],d.spacing.xl,d.spacing.lg,d.spacing.md),e7=s.ZP.div.withConfig({componentId:"sc-ce26a9d6-6"})(["padding:",";text-align:center;background:rgba(239,68,68,0.1);border:2px solid ",";border-radius:",";margin:"," 0;"],d.spacing.xl,d.colors.error,d.borderRadius.md,d.spacing.lg),te=s.ZP.h3.withConfig({componentId:"sc-ce26a9d6-7"})(["color:",";margin:0 0 "," 0;"],d.colors.error,d.spacing.md),tt=s.ZP.p.withConfig({componentId:"sc-ce26a9d6-8"})(["color:",";margin:0 0 "," 0;"],d.colors.textSecondary,d.spacing.lg),to=s.ZP.button.withConfig({componentId:"sc-ce26a9d6-9"})(["padding:"," ",";background:",";color:white;border:none;border-radius:",";font-weight:600;cursor:pointer;transition:all 0.2s ease-in-out;&:hover{background:#dc2626;transform:translateY(-1px);}&:focus{outline:2px solid ",";outline-offset:2px;}"],d.spacing.md,d.spacing.lg,d.colors.error,d.borderRadius.md,d.colors.error),ta=s.ZP.div.withConfig({componentId:"sc-ce26a9d6-10"})(["position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,0.5);display:",";align-items:center;justify-content:center;z-index:999;backdrop-filter:blur(4px);"],e=>e.$show?"flex":"none"),tr=s.ZP.div.withConfig({componentId:"sc-ce26a9d6-11"})(["width:40px;height:40px;border:4px solid rgba(255,255,255,0.3);border-top:4px solid white;border-radius:50%;animation:spin 1s linear infinite;@keyframes spin{0%{transform:rotate(0deg);}100%{transform:rotate(360deg);}}"]);var tn=()=>{let{todos:e,isLoading:t,celebrationQueue:o,addTodo:n,completeTodo:i,deleteTodo:s,clearCelebration:d,error:l}=S(),[c,p]=(0,r.useState)(null),[m,g]=(0,r.useState)(!1),u=(0,r.useRef)(null);(0,r.useEffect)(()=>{l&&p(l)},[l]),(0,r.useEffect)(()=>{if(o.length>0){let t=o[0],a=e.find(e=>e.id===t);a&&(u.current={id:a.id,text:a.text})}else u.current=null},[o,e]);let f=(0,r.useCallback)(async e=>{try{g(!0),p(null),await n(e)}catch(e){throw p(e),e}finally{g(!1)}},[n]),h=(0,r.useCallback)(async e=>{try{g(!0),p(null),await i(e)}catch(e){p(e)}finally{g(!1)}},[i]),b=(0,r.useCallback)(async e=>{try{g(!0),p(null),await s(e)}catch(e){p(e)}finally{g(!1)}},[s]),x=(0,r.useCallback)(()=>{u.current&&d(u.current.id)},[d]),w=(0,r.useCallback)(()=>{p(null),window.location.reload()},[]),y=(0,r.useCallback)(e=>{(e.ctrlKey||e.metaKey)&&"r"===e.key&&(e.preventDefault(),window.location.reload())},[]);return(0,r.useEffect)(()=>(document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)),[y]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(e0,{}),(0,a.jsxs)(e5,{children:[(0,a.jsxs)(e6,{children:[(0,a.jsxs)(e4,{children:[(0,a.jsx)(e3,{children:"✨ 待办清单"}),(0,a.jsx)(e9,{children:"让每一天都充满成就感"})]}),(0,a.jsxs)(e8,{children:[c&&(0,a.jsxs)(e7,{children:[(0,a.jsx)(te,{children:"\uD83D\uDE35 出错了"}),(0,a.jsx)(tt,{children:c.message||"发生了未知错误，请重试"}),(0,a.jsx)(to,{onClick:w,children:"重新加载"})]}),(0,a.jsx)($,{onSubmit:f,isDisabled:t||m,placeholder:"输入新的待办事项... (按 Enter 提交)"}),(0,a.jsx)(eZ,{todos:e,onAddTodo:f,onCompleteTodo:h,onDeleteTodo:b,isLoading:t})]})]}),(0,a.jsx)(ta,{$show:m,children:(0,a.jsx)(tr,{})}),u.current&&(0,a.jsx)(eW,{show:o.length>0,todoText:u.current.text,onAnimationEnd:x,duration:2e4})]})]})},ti=()=>(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(i(),{children:[(0,a.jsx)("title",{children:"待办清单 - 让每一天都充满成就感"}),(0,a.jsx)("meta",{name:"description",content:"一个现代化的待办事项管理应用，帮助你高效管理日常任务"}),(0,a.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,a.jsx)("meta",{charSet:"utf-8"}),(0,a.jsx)("meta",{property:"og:type",content:"website"}),(0,a.jsx)("meta",{property:"og:title",content:"待办清单 - 让每一天都充满成就感"}),(0,a.jsx)("meta",{property:"og:description",content:"一个现代化的待办事项管理应用，帮助你高效管理日常任务"}),(0,a.jsx)("meta",{property:"twitter:card",content:"summary_large_image"}),(0,a.jsx)("meta",{property:"twitter:title",content:"待办清单 - 让每一天都充满成就感"}),(0,a.jsx)("meta",{property:"twitter:description",content:"一个现代化的待办事项管理应用，帮助你高效管理日常任务"}),(0,a.jsx)("meta",{name:"theme-color",content:"#6366f1"}),(0,a.jsx)("meta",{name:"apple-mobile-web-app-capable",content:"yes"}),(0,a.jsx)("meta",{name:"apple-mobile-web-app-status-bar-style",content:"default"}),(0,a.jsx)("meta",{name:"apple-mobile-web-app-title",content:"待办清单"}),(0,a.jsx)("link",{rel:"icon",href:"/favicon.ico"}),(0,a.jsx)("link",{rel:"apple-touch-icon",href:"/icon-192x192.png"}),(0,a.jsx)("link",{rel:"preconnect",href:"https://fonts.googleapis.com"}),(0,a.jsx)("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossOrigin:"anonymous"})]}),(0,a.jsx)(tn,{})]})}},function(e){e.O(0,[686,888,774,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);